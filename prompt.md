---
marp: true
---

# Prompting の基本


---

# 目次

### 原則 1: 明確で具体的な指示を与えること

- ルール 1 : 読み取る箇所を明確にするために"""や```などで対象を囲う。  
  また,出力のボリュームも可能な限り明記する
- ルール 2 : 出力は JSON や CSV で出力するように指示すること
- ルール 3 : 条件を満たしているかどうかをチェックする様にモデルに指示する
- ルール 4: 指示を与えるときに答え方の例を提示する

### 原則 2: モデルに考える時間を与える

- ルール 1: タスクを完了するためのステップを明記する
- ルール 2: 結論を急ぐ前に、モデル自身が解決策を導き出すよう指示する。
- Limitation：幻想

---

# Prompting の基本

# 原則 1: 明確で具体的な指示を与えること

---

## ルール 1 : 読み取る箇所を明確にするために"""や```などで対象を囲う。また出力のボリュームも可能な限り明記する

```
❌ Q: 下のテキストを要約して
【AFP＝時事】チェコ政府は17日、共産政権時代にソ連と結ばれた、
首都プラハなどの不動産を無償で提供する合意を破棄した。
　チェコの前身であるチェコスロバキアは1970年代と80年代に、
外交目的の使用を前提に土地や建物を無償でソ連に提供した。
```

```
⭕️ Q: 下の triple backticks で囲われた文字列を 1 センテンスに要約して
"""
【AFP＝時事】チェコ政府は17日、共産政権時代にソ連と結ばれた、
首都プラハなどの不動産を無償で提供する合意を破棄した。
　チェコの前身であるチェコスロバキアは1970年代と80年代に、
外交目的の使用を前提に土地や建物を無償でソ連に提供した。
"""
```

---

## ルール 2 : 出力は JSON や CSV で出力するように指示すること

例：

```
3つの本のタイトルと著者、ジャンルを以下のCSVフォーマットで作って:
book_id, title, author, genre

```

---

## ルール 3 : 条件を満たしているかどうかをチェックする様にモデルに指示する

```
❌ Q: 以下のテキストを Step1, Step2...という形で手順化してください
```

```
⭕️ Q: 以下のテキストを Step1, Step2...という形で手順化してください。
　 もし順序が明確でない場合は"手順が明記されていません"と返してください
```

---

## ルール 4: 指示を与えるときに答え方の例を提示する

答え方の例を出しておくと、その例に従って回答をしてくれる

例）

```
Q: <child>: 忍耐について教えて
<grandparent>:忍耐とは、厳しい冬の寒さに耐え抜く木のようなものじゃよ
寒さが厳しくても、春が来るのを待ち続け、春になれば新しい葉をつけるのじゃ。
そうやって生き続ける力、それが忍耐じゃ❣️
<child>: 向上心について教えて
```

```
A: <grandparent>: 向上心とは、自分自身をより良くするために努力し続ける心のことじゃよ。
向上心を持つことは、常に成長し続けることを意味し、
自分の能力や知識を向上させるために努力を惜しまないことを意味するのじゃ。
向上心のある人は、自分の目標や夢に向かって努力し、障害や困難に立ち向かうことができるのじゃよ。
また、向上心は他人と比べるのではなく、自分自身との競争と捉えることが大切じゃ。
自分の限界に挑戦し、常に成長し続けることで、より素晴らしい人生を築くことができるのじゃ❣️
```

---

# 原則 2: モデルに考える時間を与える

---

### ルール 1: タスクを完了するためのステップを明記する

Input:

```
❌ Q: 以下の文章を翻訳して JSON フォーマットで出力してください
```

```
⭕️ Q: 以下の文章を翻訳してください。出力は以下のフォーマットを利用してください
Text: <テキストサマリー>
Names:<list of names in Italian summary>
Transration: <summary and translation>
OutputJson: <json with summary and num_names>
```



---

### ルール 2: 結論を急ぐ前に、モデル自身が解決策を導き出すよう指示する。

❌　以下のプロンプトだと正しい結果が出ない（間違っているのに正しいと判断してしまう）
```
the student's solution が正しいかどうかを判断してください
家を建てようとしています。以下のコストがかかります
- 土地代 $100 / square foot
- ソーラパネル代 $250 / square foot
- メンテナンスコスト $10 / square foot

Student's Solution:
Let x be the size of the installation in square feet.
Costs:

1. 土地代 : 1000x 
2. ソーラパネル代: 10x 
3. メンテナンスコスト: 10x  
   トータルコスト: 100x + 250x + 100,000 + 100x = 450x + 100,000
```

```
＞The student's solution is correct.
```

---


以下の様な説明を手前に加えて、考える手順を示すことで精度が向上する

```
あなたのタスクは生徒のソリューションが正確かどうかを判断することです。
この問題を解決するために、以下のことを実施してください
- まず、あなたの自身の解決策を作ってください
- 次にあなたの解決策と生徒の解決策を比べて、生徒のソリューションが正しいかどうかを判断してください
あなたの解決策を考えるまで、生徒の解決策が正しいかどうかは判断しないでください。
```



---


### Limitation：幻想

LLM は、わからないことがあると情報を勝手に作り出してしまう

```
Q: 豊通シスコムが開発したAI歯ブラシについて教えて
```

```
A: 豊通シスコムが開発した AI 歯ブラシは、歯磨きの状態をセンサーで検知し、
AI が歯磨きの指導を行うことで、より効果的な歯磨きをサポートする製品です。具体的には・・・
```

以下の様にすれば OK。

```
Q: あなたのタスクは問題に応えることです。知らないことだった場合は知らないと言ってください。
Here is the question : 豊通シスコムの作った AI 歯ブラシについて教えて
```

```
A: わかりません
```

--- 

## ご紹介（URLのみ）

### プロンプトエンジニアリングガイド（日本語）
https://www.promptingguide.ai/jp

